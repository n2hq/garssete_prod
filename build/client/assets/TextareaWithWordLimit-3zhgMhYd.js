import{j as s}from"./jsx-runtime-0DLF9kdB.js";import{r as c}from"./components-CCwaTRgT.js";import{n as b}from"./lib-248wCR0N.js";import{i as N,a as D,t as E}from"./WhiteLogo-zPIAMy-v.js";const S=({controlName:t,controlPlaceholder:h,controlTitle:o,register:p,changeHandler:g,controlInformationClass:j,controlInformation:a,error:d,setValue:x,getValues:f,watch:u,minWords:_=100,maxWords:l=500})=>{const[v,n]=c.useState(""),[k,r]=c.useState(!1),w=e=>(e==null?void 0:e.trim())===""?0:e==null?void 0:e.trim().split(/\s+/).length,y=e=>{const i=e.target.value,m=i.trim().split(/\s+/);if(m.length<=l)x("text",i),r(!1);else{r(!0);const W=m.slice(0,l).join(" ");x("text",W)}},C=u("text")||"",T=e=>{C.trim().split(/\s+/).length>=l&&e.key!=="Backspace"&&e.key!=="Delete"&&!e.ctrlKey?(e.preventDefault(),r(!0)):r(!1)};return c.useEffect(()=>{if(t){let e=f(t);n(e)}},[t]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:N,children:[s.jsxs("div",{className:"flex place-content-between place-items-baseline top-1",children:[s.jsx("label",{className:D,children:o}),s.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",s.jsx("strong",{children:w(v)})]})]}),(a==null?void 0:a.length)>1&&s.jsx("div",{className:`${j} ml-1.5 mb-2`,children:a}),s.jsxs("div",{children:[s.jsx("textarea",{...p(t,{onChange:e=>{n(e.target.value),y(e),g(e)}}),className:E,placeholder:h,onKeyDown:T}),d&&s.jsxs("div",{className:"input__class__error -mt-[5px]",children:[s.jsx(b,{className:"text-lg"}),d.message]})]})]})})};export{S as T};
