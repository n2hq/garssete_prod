import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as c,L as ye,R as J,N as ge,u as Se}from"./components-BgCvqN9p.js";import{I as W}from"./index-WNiYugoE.js";import{u as P}from"./SliderContext-V_ArddrN.js";import{u as te}from"./AuthContext-jYNbaFtL.js";import{u as _e,s as ke}from"./zod-VB2z1YQj.js";import{z as F}from"./index-C4bLmoCR.js";import{u as le}from"./NotificationContext-BYch09_4.js";import{u as Re}from"./OperationContext-C5fIEC6d.js";import{N as T,an as Ee,ab as re,a$ as Le,b0 as Be,b1 as Ce,b2 as ce,ag as ae,b3 as Te,P as Ge,e as Ae,b4 as Me,b5 as $e,b6 as Y,b7 as De,b8 as Fe,b9 as oe,B as ze,a as Ie,ba as Oe,bb as Ue,bc as We,bd as Pe,be as Ve,bf as Xe,bg as Ke,bh as He,bi as qe,bj as Je,bk as Ye,ae as I,n as Ze,a5 as Qe,aw as es,bl as ss,bm as ts,aJ as ls,aK as rs,bn as cs,ay as as,l as os}from"./lib-yTOo7XCn.js";import{u as ne}from"./VideoSliderContext-DWtDzYty.js";import{u as ns,P as ds}from"./ProductSliderContext-BFSoX_lG.js";import{T as xs}from"./TopAd-h9l2uKwF.js";import{S as is}from"./SearchLayout-CnAaVen5.js";import{C as ms}from"./CallToActionSection-p9q1rx7D.js";import{V as us}from"./VerticalHeight-CjKseacd.js";import{F as hs}from"./FooterAlt-DQRHjzNI.js";import"./json-DZIPjdM1.js";import"./SrchNavbar-3NYx9nnR.js";import"./UserMenu-XeS_t7cM.js";import"./HamburgerSecondary-BwwaPQMk.js";const de=c.createContext(null);function xe(){return c.useContext(de)}const ps=({children:s})=>{const[t,l]=c.useState(!1),[o,x]=c.useState(null),d=P(),[n,r]=c.useState(null),a="https://pics.gasimg.com",h=()=>l(!1);let v={setShow:l,setGallery:x,setListing:r};const f=u=>{d.setDialog(!0),d.setSelectedSlide(u+1),d.setGallery(o)};return c.useEffect(()=>{const u=w=>{w.key==="Escape"&&h()};return t&&document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[t]),e.jsxs(de.Provider,{value:v,children:[t&&e.jsxs("div",{onMouseDown:u=>l(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[20000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:u=>u.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",n&&(n==null?void 0:n.title)]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:o&&(o==null?void 0:o.map((u,w)=>e.jsx("div",{onClick:()=>f(w),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:a+u.image_url,alt:""})})))})})]})}),e.jsx("div",{onMouseDown:()=>h(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(W,{className:"text-[30px]"})})]}),s]})},z=100,ie=c.createContext(null);function fs(){return c.useContext(ie)}const js=F.object({fullname:F.any(),rating:F.any(),comment:F.any()});function vs({children:s}){var V,X,K;const[t,l]=c.useState(!1),[o,x]=c.useState(!1),[d,n]=c.useState(null),[r,a]=c.useState(void 0),[h,v]=c.useState("");le();const{showOperation:f,showError:u,completeOperation:w,showSuccess:y}=Re(),[g,p]=c.useState(5),E=te();if(!E)return null;let{user:S}=E;const[k,b]=c.useState(null),[R,N]=c.useState(!1),B=j=>j.trim()===""?0:j.trim().split(/\s+/).length,m=j=>{let _=j.target.value,A=j.target.name;b($=>({...$,[A]:_}))},{register:i,handleSubmit:C,getValues:O,setValue:U,watch:he,reset:pe,setError:Ps,formState:{errors:M,isSubmitting:Vs}}=_e({resolver:ke(js)}),fe=j=>{const _=j.target.value,A=_.trim().split(/\s+/);if(A.length<=z)U("text",_),N(!1);else{N(!0);const $=A.slice(0,z).join(" ");U("text",$)}},je=async j=>{f("processing"),await new Promise(D=>setTimeout(D,1e3));const _=S.guid,A=d.gid;j.user_guid=_,j.business_guid=A;const Ne="https://edition.garssete.com"+"/api/rating";try{const D=await fetch(Ne,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),q=await D.json();D.ok?(y("Success","Rating submitted."),w()):(console.log(q.error),u("Error",q.error),w())}catch(D){u("Error","Rating not submitted."),w(),console.log(D.message)}};let ve={show:t,setShow:l,setListing:n,reset:pe,setRatingData:a,validateData:async(j,_)=>{if((j==null?void 0:j.length)===0){let A=(_==null?void 0:_.first_name)||"",$=(_==null?void 0:_.last_name)||"",H=A+" "+$;U("fullname",H)}}};const be=he("text")||"",we=j=>{be.trim().split(/\s+/).length>=z&&j.key!=="Backspace"&&j.key!=="Delete"&&!j.ctrlKey?(j.preventDefault(),N(!0)):N(!1)};return c.useEffect(()=>{const j=_=>{_.key==="Escape"&&l(!1)};return t&&document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[t]),e.jsxs(ie.Provider,{value:ve,children:[t&&e.jsx("div",{className:`flex w-full h-full bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsx("div",{className:"max-w-[400px] w-full h-fit mx-auto bg-white rounded-xl shadow-md ",children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:C(je),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...i("fullname",{onChange:m}),type:"text",className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,placeholder:"Enter Business GUID"}),((V=M.fullname)==null?void 0:V.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:M.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...i("rating",{onChange:j=>{p(Number(j.target.value)),m(j)}}),className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,children:[5,4,3,2,1].map(j=>e.jsxs("option",{value:j,children:[j," Star",j>1?"s":""]},j))}),((X=M.rating)==null?void 0:X.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:M.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:B(h)})]})]}),e.jsx("textarea",{...i("comment",{onChange:j=>{B(h)<=z?(v(j.target.value),fe(j),m(j)):j.preventDefault()}}),onKeyDown:we,className:`w-full px-3 py-2 border rounded-md 
                                        text-sm`,placeholder:"Write your review...",rows:4}),R&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((K=M.comment)==null?void 0:K.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:M.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>l(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100 text-sm`,children:"Close"}),e.jsx("button",{type:"submit",disabled:o,className:`w-full bg-blue-600 text-white py-2 
                                        rounded-md hover:bg-blue-700 text-sm`,children:o?"Submitting...":"Submit Rating"})]})]})]})})}),s]})}const bs=({listing:s})=>e.jsxs("div",{children:[s!=null&&s.address_one?(s==null?void 0:s.address_one)+", ":"",s!=null&&s.state_code?(s==null?void 0:s.state_name)+", ":"",s!=null&&s.country_code?s==null?void 0:s.country_code:""]}),ws=({listing:s,profileImageData:t,operatingHoursStatus:l,ratingsData:o})=>{const[x,d]=c.useState(""),[n,r]=c.useState("/images/placeholder22.png");return c.useEffect(()=>{t!=null&&t.image_url?d(T.IMG_BASE_URL+(t==null?void 0:t.image_url)):d(n)},[t]),e.jsx("div",{children:e.jsxs("div",{className:"flex gap-2 mt-2 w-full  p-3 md:p-3 md:shadow-md md:rounded-xl  border border-blue-100 bg-gray-50",children:[e.jsx("div",{className:"bg-white w-[60px] min-w-[60px] md:w-[95px] md:min-w-[95px] h-[60px] md:h-[95px] rounded-lg relative overflow-hidden border-[1px]  border-gray-200",children:e.jsx("img",{src:x,alt:"",className:" object-cover w-full h-full "})}),e.jsxs("div",{className:"w-full block",children:[e.jsx("div",{className:`text-[19px] md:text-[24px]
                font-bold  leading-[1.2em] tracking-tight font-poppins text-blue-800`,children:s==null?void 0:s.title}),e.jsx("div",{className:" line-clamp-1",children:e.jsx(bs,{listing:s})}),e.jsx("div",{className:" leading-[1.3em] space-x-1 mt-1",children:l!==void 0&&e.jsxs("div",{className:" leading-[1.2em]",children:[l.openStatus==="selected_hours"?e.jsx("div",{children:l.todayHoursFormatted}):e.jsxs("div",{children:[l.openStatus==="always_open"&&e.jsx("div",{className:"bg-green-700 px-2 rounded-lg w-fit text-white pt-[2px] pb-[4px]",children:"Always Open"},"1"),l.openStatus==="permanently_closed"&&e.jsx("div",{className:"bg-red-700 px-2 rounded-lg w-fit text-white pt-[2px] pb-[4px]",children:"Permantently Closed"},"2"),l.openStatus==="temporarily_closed"&&e.jsx("div",{className:"bg-orange-400 px-2 rounded-lg w-fit text-white pt-[2px] pb-[4px]",children:"Temporarily Closed"},"3")]}),e.jsx("div",{className:" w-full mx-auto mt-1.5",children:l==null?void 0:l.localTimeText})]})})]})]})})},G=({title:s})=>e.jsx("div",{className:`text-[19px] font-bold
                border-b mb-6`,children:s}),Ns=({listing:s})=>{var d;const[t,l]=c.useState(""),[o,x]=c.useState("/images/placeholder22.png");return c.useEffect(()=>{s.gid&&Ee(s.gid).then(r=>{(r==null?void 0:r.image_url)===""||(r==null?void 0:r.image_url)===void 0||(r==null?void 0:r.image_url)===null?l(o):l(T.IMG_BASE_URL+r.image_url)})},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(G,{title:"About this business"}),e.jsxs("div",{className:`flex place-items-start place-content-start
                gap-2 mt-4 mb-3`,children:[e.jsx("div",{className:`rounded-full bg-white w-[30px] h-[30px]
                    overflow-hidden relative border`,children:e.jsx("img",{className:"object-cover w-full h-full",src:t,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-md font-bold tracking-tight leading-[1.2em]",children:s.title}),e.jsx("div",{className:"text-[12px] capitalize",children:(d=re(s.category))==null?void 0:d.name})]})]}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:s==null?void 0:s.long_description})]})},ys=({listing:s})=>{const t=fs(),{user:l}=te(),o=le();c.useEffect(()=>{s!=null&&s.gid&&(l!=null&&l.guid)&&(t.setListing(s),Le(l.guid,s.gid).then(n=>{(n==null?void 0:n.length)!==0?(t.reset(n),t.setRatingData(n)):t.validateData(n,l)}))},[s,l]);const x=n=>{n?(o.cancel(),window.location.href="/signin"):o.cancel()},d=()=>{(l==null?void 0:l.guid)===null||(l==null?void 0:l.guid)===void 0?o.confirm("Login to continue",x):t.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>d(),className:`bg-blue-500 text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full `,children:"Write Review"})})})},Z=({businessProfile:s})=>{const[t,l]=c.useState(null),[o,x]=c.useState("");return c.useEffect(()=>{s&&l(s)},[s]),c.useEffect(()=>{if(t){let d=t!=null&&t.address_one?t==null?void 0:t.address_one:"";d+=t!=null&&t.address_two?", "+(t==null?void 0:t.address_two):"",d+=t!=null&&t.city_name?", "+(t==null?void 0:t.city_name):"",d+=t!=null&&t.state_name?", "+(t==null?void 0:t.state_name):"",d+=t!=null&&t.zipcode?", "+(t==null?void 0:t.zipcode):"",d+=t!=null&&t.country_name?", "+(t==null?void 0:t.country_name):"",x(d)}},[t]),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:`md:bg-white
            rounded-none overflow-hidden pt-[0px]
            pb-[15px] bg-[blue]/0 text-black md:black
            md:text-black  border-[1px] border-gray-300/70 border-t-0 border-b-0`,children:[e.jsx("div",{className:`font-normal text-[19px] 
                   px-[10px] tracking-tight w-fit rounded-md
                   ml-[20px] mt-[25px] bg-blue-900 text-white
                   shadow-md shadow-gray-100`,children:"Business Contact"}),e.jsx("div",{className:"mt-[20px]"}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-1 
                text-[14px]  tracking-tight md:space-x-4 lg:space-x-0 md:text-black/80 font-sans`,children:[e.jsxs("div",{className:"mx-[0px] divide-y-[1px] ",children:[e.jsxs("div",{className:"flex w-full gap-3 py-3 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md border-[1px]",children:e.jsx(Be,{className:"text-[20px]"})}),o&&e.jsx("div",{className:"text-[15px] md:text-[13px] leading-[1.3em]",children:o})]}),(s==null?void 0:s.phone)&&e.jsxs("div",{className:"flex w-full gap-3 py-2.5 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(Ce,{className:"text-[20px] h-fit"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                flex place-items-center font-semibold`,children:s==null?void 0:s.phone})]}),(s==null?void 0:s.website)&&e.jsxs("div",{className:"flex w-full gap-3 py-2.5 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(ce,{className:"text-[20px] h-fit"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                flex place-items-center font-semibold
                                line-clamp-1`,children:e.jsx("a",{href:s==null?void 0:s.website,children:(s==null?void 0:s.website)||"No website"})})]}),e.jsxs("div",{className:"flex w-full gap-3 py-2.5 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(ae,{className:"text-[20px]"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                flex place-items-center font-semibold
                                line-clamp-1`,children:e.jsx("a",{href:`mailto:${s.email_address}`,children:s.email_address})})]})]}),e.jsx("div",{children:e.jsx("div",{className:`bg-blue-500 mt-[30px] mx-[15px]
                        text-white text-center py-2 rounded`,children:s&&e.jsx(ys,{listing:s})})})]})]})})},gs=({listing:s})=>{const[t,l]=c.useState(void 0);return c.useEffect(()=>{Te(s==null?void 0:s.gid).then(o=>{const x=o==null?void 0:o.map(d=>({...Ge.find(r=>r.feature_id===d.feature_id),user_description:d.user_description||null,business_guid:d.business_guid}));l(x)})},[s.business_guid]),e.jsxs("div",{className:" mt-12",children:[e.jsx(G,{title:"Facility Features"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-8 mt-3",children:t==null?void 0:t.map((o,x)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"font-bold flex place-items-center gap-2 ",children:[e.jsx("span",{className:"text-lg",children:o.icon}),e.jsx("span",{className:"text-lg leading-[1.2em]",children:o.name})]}),e.jsx("div",{className:" mt-[5px] text-black tracking-normal leading-snug",children:o.user_description||o.description})]},x))})]})},Ss=({listing:s})=>e.jsxs("div",{className:"mt-4",children:[e.jsx(G,{title:"Intro"}),e.jsx("div",{className:" text-[14px] flex flex-col gap-y-4 whitespace-pre-wrap ",children:s.short_description})]}),Q=({rating:s=3.5,maxStars:t=5})=>{const l=[];for(let o=1;o<=t;o++)o<=s?l.push(e.jsx("span",{className:"text-yellow-500 text-xl",children:e.jsx(Me,{})},o)):l.push(e.jsx("span",{className:"text-yellow-500 text-xl",children:e.jsx($e,{})},o));return e.jsxs("div",{className:" flex w-full place-items-center gap-2 mt-0",children:[e.jsx("div",{className:"flex  gap-x-[3px] -mt-[2px]",children:l}),e.jsx("div",{className:"text-gray-400",children:e.jsx(Ae,{className:"text-[15px] text-yellow-400"})}),e.jsxs("div",{className:" text-xl",children:["Rating: ",Number(s)]})]})},_s=({listing:s})=>{const[t,l]=c.useState([]),[o,x]=c.useState({}),[d,n]=c.useState("");return c.useEffect(()=>{const r=async h=>{h&&await De(h).then(v=>{l(v)})},a=async h=>{h&&await Fe(h).then(v=>{x(v)})};s.gid&&(r(s.gid),a(s.gid))},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(G,{title:"Reviews"}),e.jsxs("div",{className:"-mt-1 text-[14px] flex flex-col -gap-y-1 font-light",children:[e.jsx("div",{className:"font-bold text-lg",children:"Overall Rating:"}),o&&e.jsx(Q,{rating:o==null?void 0:o.rating_average})]}),e.jsx("hr",{className:"mt-3"}),e.jsx("div",{className:"flex flex-col gap-y-4 divide-y-[1px]",children:t!==null&&(t==null?void 0:t.map((r,a)=>e.jsxs("div",{className:"pt-7 pb-4",children:[e.jsxs("div",{className:"flex place-items-start gap-2",children:[e.jsx("div",{className:`w-[30px] h-[30px] rounded-full
                                        bg-black overflow-hidden`,children:e.jsx("img",{src:T.IMG_BASE_URL+(r==null?void 0:r.image_url),alt:""})}),e.jsxs("div",{className:"flex flex-col -space-y-1.5",children:[e.jsx("div",{className:"text-lg font-bold",children:r.fullname}),(r==null?void 0:r.city_name)!==null&&(r==null?void 0:r.state_name)&&e.jsx("div",{className:"text-[11px]",children:`${r==null?void 0:r.city_name}, ${r==null?void 0:r.state_name}`}),(r==null?void 0:r.country_name)!==null&&e.jsx("div",{className:"text-[11px]",children:`${r==null?void 0:r.country_name}`})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(Q,{rating:r.rating})}),e.jsxs("div",{className:"text-[12px] mt-1",children:[e.jsx("b",{children:"Created at:"}),e.jsx("span",{className:"text-[12px]",children:Y(r.created_at)})]}),e.jsxs("div",{className:"text-[12px]",children:[e.jsx("b",{children:"Last Edited:"}),e.jsx("span",{className:"text-[12px]",children:Y(r.updated_at)})]}),e.jsx("div",{className:"text-[14px] mt-2",children:r.comment})]})]},a)))})]})},ks=({images:s,listing:t})=>{const[l,o]=c.useState([]),x=P(),d=xe(),[n,r]=c.useState("images/abstract_placeholder.jpg"),[a,h]=c.useState([]);c.useEffect(()=>{let u=[...l];s&&(s==null||s.map((w,y)=>{y+1<12&&u.push(w)}),h(u))},[s]);const v=u=>{u<s.length&&(x.setDialog(!0),x.setSelectedSlide(u+1),x.setGallery(s),x.setListing(t))},f=u=>{d.setShow(!0),d.setGallery(s),d.setListing(t)};return e.jsx("div",{children:e.jsx("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:e.jsx(Rs,{imgs:s,showCarousel:v,index:0,showGallery:f})})})};function L({index:s,imgs:t,showCarousel:l}){var o,x,d;return e.jsx("div",{className:`rounded-xl overflow-hidden bg-gray-200
                    relative cursor-pointer w-full h-full`,children:((o=t[s])==null?void 0:o.image_url)!==void 0&&((x=t[s])==null?void 0:x.image_url)!==null?e.jsx("img",{src:T.IMG_BASE_URL+((d=t[s])==null?void 0:d.image_url),alt:"",className:"object-cover h-full w-full"}):e.jsx("div",{className:"w-full h-full px-3 py-3 flex place-content-center place-items-center",children:e.jsx("div",{className:" w-full h-full border border-dashed border-white text-[20px] rounded-lg flex place-content-center place-items-center text-white",children:e.jsx(oe,{})})})})}function Rs({imgs:s,index:t,showCarousel:l,showGallery:o}){const[x,d]=c.useState(0),[n,r]=c.useState([]);return c.useEffect(()=>{(s==null?void 0:s.length)>0&&(console.log(s),d(s.length),r(s))},s),e.jsxs(e.Fragment,{children:[x===1&&e.jsx("div",{className:`h-[350px]
                grid grid-cols-12 gap-[7px]`,children:e.jsx("div",{className:`col-span-12 
                    row-span-2 overflow-hidden`,onMouseDown:a=>l&&l(t),children:e.jsx(L,{imgs:n,index:0})})}),x===2&&e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[7px]`,children:[e.jsx("div",{className:`col-span-7 bg-black
                    row-span-2 rounded-xl overflow-hidden
                    relative cursor-pointer`,onMouseDown:a=>l&&l(0),children:e.jsx(L,{imgs:n,index:0})}),e.jsx("div",{className:`col-span-5 bg-black
                    row-span-2 rounded-xl overflow-hidden
                    relative cursor-pointer`,onMouseDown:a=>l&&l(1),children:e.jsx(L,{imgs:n,index:1})})]}),x===3&&e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[7px]`,children:[e.jsx("div",{className:"col-span-7 row-span-2 overflow-hidden",onMouseDown:a=>l&&l(0),children:e.jsx(L,{imgs:n,index:0})}),e.jsx("div",{className:"col-span-5 overflow-hidden",onMouseDown:a=>l&&l(1),children:e.jsx(L,{imgs:n,index:1})}),e.jsx("div",{className:`col-span-5 overflow-hidden
                    `,onMouseDown:a=>l&&l(2),children:e.jsx(L,{imgs:n,index:2})})]}),x>=4&&e.jsxs("div",{className:"space-y-[7px]",children:[e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[7px]`,children:[e.jsx("div",{className:"col-span-7 row-span-2 overflow-hidden",onMouseDown:a=>l&&l(0),children:e.jsx(L,{imgs:n,index:0})}),e.jsx("div",{className:"col-span-5 overflow-hidden",onMouseDown:a=>l&&l(1),children:e.jsx(L,{imgs:n,index:1})}),e.jsx("div",{className:`col-span-5 overflow-hidden
                    `,onMouseDown:a=>l&&l(2),children:e.jsx(L,{imgs:n,index:2})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-[7px] mt-[2px] h-[100px]",children:[e.jsx("div",{className:"overflow-hidden",onMouseDown:a=>l&&l(3),children:e.jsx(L,{imgs:n,index:3})}),e.jsx("div",{className:"overflow-hidden",onMouseDown:a=>l&&l(4),children:e.jsx(L,{imgs:n,index:4})}),e.jsx("div",{className:"overflow-hidden",onMouseDown:a=>l&&l(5),children:e.jsx(L,{imgs:n,index:5})}),e.jsx("div",{className:"overflow-hidden",onMouseDown:a=>l&&l(6),children:e.jsx(L,{imgs:n,index:6})}),e.jsxs("div",{className:`rounded-xl overflow-hidden
                    relative bg-gray-200 text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]
                    bg-cover`,onMouseDown:a=>o&&o(0),style:{backgroundImage:'url("/images/abstract_placeholder.jpg")'},children:[e.jsx("div",{className:" absolute top-0 left-0 right-0 bottom-0 bg-black/20"}),(n==null?void 0:n.length)>7?`+${n.length-7}`:"View all"]})]})]})]})}const Es=({images:s,listing:t})=>{const[l,o]=c.useState(0),x=c.useRef(0);c.useRef(0);const d=b=>{x.current=b.touches[0].clientX},n=b=>{const R=b.changedTouches[0].clientX,N=x.current-R;N>50?o(B=>(B+1)%s.length):N<-50&&o(B=>(B-1+s.length)%s.length)},[r,a]=c.useState(null);let h=c.useRef(null);const[v,f]=c.useState([]),u=P();xe();const[w,y]=c.useState([]);c.useEffect(()=>{let b=[...v];s&&(s.map((R,N)=>{N+1<12&&b.push(R)}),y(b))},[s]);const g=b=>{b<(s==null?void 0:s.length)&&(u.setDialog(!0),u.setSelectedSlide(b+1),u.setGallery(s),u.setListing(t))};c.useEffect(()=>{s&&a(s)},[s]);const p=()=>{o(b=>b===0?r.length-1:b-1)},E=()=>{o(b=>b===r.length-1?0:b+1)},S=async()=>{h.current&&clearTimeout(h.current),E(),h.current=setTimeout(()=>{},15e3)},k=async()=>{h.current&&clearTimeout(h.current),p(),h.current=setTimeout(()=>{},15e3)};return c.useEffect(()=>{},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` w-full h-[300px] md:h-[500px] flex 
          overflow-hidden z-0
          `,children:r==null?void 0:r.map((b,R)=>{var N;return e.jsx("img",{onTouchStart:d,onTouchEnd:n,onMouseDown:B=>g(R),src:((N=T)==null?void 0:N.IMG_BASE_URL)+(b==null?void 0:b.image_url),alt:"",style:{transform:`translateX(-${l*100}%)`},className:`object-cover w-full h-full 
                      block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`},R)})}),e.jsxs("div",{className:"z-[300]",children:[e.jsx("button",{onMouseDown:k,className:`block absolute top-0 bottom-0 
                                                  z-[300] p-[1rem] cursor-pointer left-0 group h-full 
                                                        transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(ze,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:S,className:`block absolute top-0 bottom-0 
                                                        z-[300]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(Ie,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},me=({phrasesString:s,useGrid:t})=>{const[l,o]=c.useState([]);return c.useEffect(()=>{s!==null&&s!==""&&(d=>{const n=d==null?void 0:d.split(",").map(r=>r.trim());o(n)})(s)},[s]),e.jsx(e.Fragment,{children:t===!0?e.jsx("div",{className:"grid grid-cols-2 gap-y-5 w-full",children:l==null?void 0:l.map((x,d)=>e.jsxs("div",{className:"flex place-items-center gap-3",children:[e.jsx("span",{children:e.jsx(Oe,{})}),e.jsx("span",{children:x})]},d))}):e.jsx("div",{className:"flex gap-3 flex-wrap",children:l==null?void 0:l.map((x,d)=>e.jsx("span",{className:`bg-blue-50 px-2 border py-1 border-gray-300 hover:shadow-lg cursor-move
                        rounded-md shadow-none shadow-gray-500`,children:x},d))})})},Ls=({listing:s})=>e.jsxs("div",{className:"mt-12",children:[e.jsx(G,{title:"Business Offerings"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:(s==null?void 0:s.business_phrases)&&e.jsx(me,{useGrid:!0,phrasesString:s==null?void 0:s.business_phrases})})]}),Bs=({listing:s})=>{const[t,l]=c.useState([]);return c.useEffect(()=>{s!==null&&(x=>{if(x!==null&&x!==""){const d=x==null?void 0:x.split(",").map(n=>n.trim());l(d)}})(s==null?void 0:s.services)},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(G,{title:"Services"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:(s==null?void 0:s.services)&&e.jsx(me,{useGrid:!0,phrasesString:s==null?void 0:s.services})})]})},Cs=({listing:s})=>{const[t,l]=c.useState(""),[o,x]=c.useState(null);function d(r){let a=null;switch(r==null?void 0:r.media_id){case"facebook":a=e.jsx(Ye,{});break;case"twitterx":a=e.jsx(Je,{});break;case"linkedin":a=e.jsx(qe,{});break;case"instagram":a=e.jsx(He,{});break;case"pinterest":a=e.jsx(Ke,{});break;case"youtube":a=e.jsx(Xe,{});break;case"vimeo":a=e.jsx(Ve,{});break;case"tiktok":a=e.jsx(Pe,{});break}return a}function n(r){try{return new URL(r),!0}catch{return!1}}return c.useEffect(()=>{s!==null&&(async a=>{const h=[],v=await Ue(a==null?void 0:a.gid);v==null||v.map((f,u)=>{const w=f==null?void 0:f.user_description,y=n(w);let g="";y?g=w:g=`${f==null?void 0:f.base_url}${f==null?void 0:f.user_description}`,h.push({media:f==null?void 0:f.name,icon:d(f),name:f==null?void 0:f.name,link:g})}),a!=null&&a.website&&h.push({media:a==null?void 0:a.website,icon:e.jsx(ce,{}),name:"Website",link:`${a==null?void 0:a.website}`}),a!=null&&a.email_address&&h.push({media:a==null?void 0:a.email_address,icon:e.jsx(ae,{}),name:"Email Address",link:`mailto:${a==null?void 0:a.email_address}`}),a!=null&&a.phone&&h.push({media:a==null?void 0:a.phone,icon:e.jsx(We,{}),name:"Phone",link:`tel:${a==null?void 0:a.phone}`}),x(h)})(s)},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(G,{title:"Social Media"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:e.jsx("div",{className:"flex gap-3 flex-wrap",children:o!==null&&(o==null?void 0:o.map((r,a)=>e.jsx(ye,{to:r==null?void 0:r.link,children:e.jsxs("div",{className:`border px-[8px] py-[2px] 
                                    cursor-pointer flex place-items-center rounded-md
                                    gap-1 border-gray-400 bg-blue-50 hover:bg-blue-50
                                    text-black hover:text-black
                                    hover:shadow-md`,children:[e.jsx("span",{className:"text-[12px]",children:r==null?void 0:r.icon}),r==null?void 0:r.name]},a)},a)))})})]})},ee=({data:s})=>{var n;const[t,l]=c.useState(""),[o,x]=c.useState(!1),d=r=>r.toFixed(1).replace(/\.0$/,"").includes(".");return c.useEffect(()=>{if(s){const r=d(Number(s==null?void 0:s.rating));x(r)}},[s]),c.useEffect(()=>{const r=a=>{a>4.5?l("Excellent"):a>=4&&a<4.5?l("Superb"):a>3.5&&a<4?l("Very Good"):a>2&&a<=3.5?l("Good"):a>1&&a<2?l("Poor"):l("Bad")};(s==null?void 0:s.rating)!==null?r(Number(s==null?void 0:s.rating)):r(0)},[s]),e.jsx("div",{children:e.jsxs("div",{className:"bg-blue-100 w-full px-3 py-3 border border-b-0 rounded-t-2xl grid grid-cols-2",children:[e.jsxs("div",{className:"block",children:[e.jsx("div",{className:"text-[16px] font-semibold",children:"Category"}),e.jsx("div",{className:"text-sm capitalize line-clamp-1",children:(n=re((s==null?void 0:s.category)||""))==null?void 0:n.name})]}),e.jsxs("div",{className:"flex place-content-between gap-x-1.5",children:[e.jsxs("div",{className:"text-right w-full flex flex-col place-content-center",children:[e.jsx("div",{className:"text-base font-semibold",children:(s==null?void 0:s.ratingCount)===0?"No reviews yet":t}),e.jsxs("div",{className:"text-sm",children:[I(Number(s==null?void 0:s.ratingCount))," review",Number(s==null?void 0:s.ratingCount)>1?"s":""]})]}),e.jsx("div",{className:"",children:e.jsx("div",{className:`bg-blue-950 font-poppins h-[40px] w-[40px] rounded-xl text-white flex place-items-center place-content-center ${o?"text-[26px]":"text-[36px]"}`,children:I(Number(s==null?void 0:s.rating))})})]})]})})},se=({listing:s})=>{const[t,l]=c.useState("user");return c.useEffect(()=>{const o=async x=>{await Ze(x).then(d=>{l(d.role)})};s!=null&&s.owner&&o(s==null?void 0:s.owner)},[s]),e.jsx(e.Fragment,{children:t==="admin"&&e.jsx("div",{className:" md:mt-0 ",children:e.jsxs("div",{className:"px-3  border border-t-0  rounded-b-xl shadow-lg rounded-t-none  underline-offset-2  bg-blue-100 mx-[0px] md:mx-[0px] mb-[40px] md:mb-[40px] divide-y-1 divide-gray-600",children:[e.jsx("a",{href:"/web/contact",children:e.jsx("div",{className:"text-[15px] text-center  py-[10px] ",children:"Is this your business? Claim it for free!"})}),e.jsx("div",{className:"border-b-[1px] border-gray-50/20"}),e.jsx("a",{href:"/web/contact",children:e.jsx("div",{className:"text-[12px] text-center underline py-[10px]",children:"Request removal."})})]})})})},Ts=({listing:s,operatingHoursStatus:t})=>{const[l,o]=J.useState(!0),[x,d]=J.useState(!1),[n,r]=c.useState(""),[a,h]=c.useState(""),[v,f]=c.useState(void 0),[u,w]=c.useState(null),[y,g]=c.useState(""),[p,E]=c.useState(""),[S,k]=c.useState(""),[b,R]=c.useState(void 0);c.useEffect(()=>{s&&(r(s==null?void 0:s.gid),h(s==null?void 0:s.owner))},[s]);const N=(m,i)=>m==="Closed"||i=="Closed"?"Closed":`${m} - ${i}`,B=m=>{const i=[];g(m==null?void 0:m.open_status),i.push({day:"Mon",hours:N(m.monday_from,m.monday_to)}),i.push({day:"Tue",hours:N(m.tuesday_from,m.tuesday_to)}),i.push({day:"Wed",hours:N(m.wednesday_from,m.wednesday_to)}),i.push({day:"Thu",hours:N(m.thursday_from,m.thursday_to)}),i.push({day:"Fri",hours:N(m.friday_from,m.friday_to)}),i.push({day:"Sat",hours:N(m.saturday_from,m.saturday_to)}),i.push({day:"Sun",hours:N(m.sunday_from,m.sunday_to)}),w(i)};return c.useEffect(()=>{n&&a&&(async(i,C)=>await Qe(i,C))(n,a).then(i=>{B(i)})},[n,a]),c.useEffect(()=>{s!==null&&(async i=>{let C=i==null?void 0:i.title;C+=i!=null&&i.address_one?", "+(i==null?void 0:i.address_one):"",C+=i!=null&&i.address_two?", "+(i==null?void 0:i.address_two):"",C+=i!=null&&i.city_name?", "+(i==null?void 0:i.city_name):"",C+=i!=null&&i.state_name?", "+(i==null?void 0:i.state_name):"",C+=i!=null&&i.zipcode?", "+(i==null?void 0:i.zipcode):"",C+=i!=null&&i.country_code?", "+(i==null?void 0:i.country_code):"";let O=`https://www.google.com/maps?q=${C}&t=&z=15&ie=UTF8&iwloc=B&output=`;E(C),k(O)})(s)},[s]),c.useEffect(()=>{t!==void 0&&R(t)},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(G,{title:"Location and Hours"}),e.jsx("div",{className:" ",children:e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-12 gap-5
                    `,children:[e.jsxs("div",{className:"col-span-6",children:[e.jsx("div",{className:" relative w-full h-[150px] overflow-hidden rounded-lg",children:e.jsx("img",{className:" object-cover w-full h-full",src:"/images/mapicon.jpeg",alt:""})}),e.jsxs("div",{className:" grid grid-cols-2 gap-6 mt-3",children:[e.jsx("div",{children:p}),e.jsx("div",{children:e.jsx("a",{href:`${S}`,target:"_blank",children:e.jsx("button",{className:"w-[100%] border-[1px] border-blue-300 rounded-md",children:e.jsx("div",{className:"text-[14px]  font-sans font-bold text-bold  py-2 tracking-tight ",children:"View in Map"})})})})]})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"",children:[y==="no_hours"||y===null&&e.jsx("div",{children:"No hours selected."}),y==="always_open"&&e.jsx("div",{children:"Business is always open"}),y==="permanently_closed"&&e.jsx("div",{children:"Permanently Closed"}),y==="temporarily_closed"&&e.jsx("div",{children:"Temporarily Closed"}),u!==null&&y==="selected_hours"&&e.jsx("ul",{className:"w-full divide-y-[1px] md:divide-none",children:u==null?void 0:u.map((m,i)=>e.jsx("li",{className:`w-full ${(m==null?void 0:m.hours.includes(null))&&"hidden"} `,children:e.jsxs("div",{className:`grid grid-cols-12 py-1.5 
                                                        `,children:[e.jsx("div",{className:` col-span-2 flex flex-col
                                                        place-items-start`,children:m==null?void 0:m.day}),e.jsxs("div",{className:`flex flex-row col-span-10
                                                    place-items-end place-content-end md:place-content-start gap-3 `,children:[e.jsx("span",{className:`${(m==null?void 0:m.hours.includes("Closed"))&&"hidden"}`,children:m==null?void 0:m.hours}),e.jsx("span",{className:`${b.today===(m==null?void 0:m.day)?"mr-[10px]":""}`,children:m!=null&&m.hours.includes("Closed")?"Closed":b.today===(m==null?void 0:m.day)&&(b.isOpen?"Open Now":"Closed Now")})]})]})},i))})]})})]})})]})};function ue({rating:s}){return e.jsx("div",{className:"flex gap-x-[3px]",children:Array.from({length:5}).map((t,l)=>{const o=Math.max(0,Math.min(1,s-l))*100;return e.jsxs("div",{className:`relative w-[20px] h-[20px] ${s>0?"bg-blue-500":"bg-gray-200"} rounded 
                            overflow-hidden flex place-items-center
                            place-content-center`,children:[e.jsx("div",{className:"absolute inset-0 bg-green-400  z-[0]",style:{width:`${o}%`}}),e.jsx(es,{className:`relative z-[0] w-[14px] h-[14px] ${s>0?"text-black":"text-red-500"}`,fill:"currentColor"})]},l)})})}const Gs=[{url:"https://youtu.be/fxbCHn6gE3U?si=GneGFZachbQdDEIO",title:"The surprising habits of original thinkers"},{url:"https://youtu.be/eHJnEHyyN1Y?si=aHRmeH67S227uGtr",title:"6 Tips on Being a Successful Entrepreneur"},{url:"https://youtu.be/1tRTWwZ5DIc?si=j6fNumMdLx5M16_H",title:"The INSANE Rise of NVIDIA: From Bankruptcy to $4 Trillion?"},{url:"https://www.youtube.com/watch?v=P6FORpg0KVo",title:"How to Make Learning as Addictive as Social Media"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"}],As=({videoGallery:s,listing:t})=>{const[l,o]=c.useState(null),[x,d]=c.useState(Gs),[n,r]=c.useState(!1),[a,h]=c.useState(null),v=ne();c.useEffect(()=>{(async y=>{let g=[];y==null||y.map((p,E)=>{const S=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,k=p.video_url.match(S);let b=k?k[1]:null,R=`https://img.youtube.com/vi/${b}/0.jpg`,N={videoId:b,videoUrl:p.video_url,videoTitle:p.video_title,videoThumbnail:R,videoGuid:p.video_guid};g.push(N)}),o(g)})(s)},[s]);const f=w=>{h(w),r(!0)},u=w=>{v.setDialog(!0),v.setSelectedSlide(w+1),v.setGallery(s),v.setListing(t)};return e.jsxs("div",{className:" ",id:"video",children:[e.jsx(Ms,{setOpen:r,open:n,currentVideo:a}),e.jsx($s,{outVideo:l,handleOpen:f,showCarousel:u,listing:t})]})},Ms=({currentVideo:s,setOpen:t,open:l})=>{const o=()=>{const x=document.getElementById("yt-iframe");x.src=x.src,t(!1)};return e.jsxs("div",{className:` ${l?"fixed":"hidden"} z-[20010] top-[0px] left-[0px] w-full h-full bg-black/90`,children:[e.jsx("div",{className:"absolute bg-black w-[40px] h-[40px] z-20 rounded-full text-white flex place-items-center place-content-center mt-20 ml-5 hover:cursor-pointer",onClick:()=>{o()},children:e.jsx(ss,{})}),e.jsx("div",{className:" relative w-full h-full",children:e.jsx("iframe",{id:"yt-iframe",src:`${l?`https://www.youtube.com/embed/${s==null?void 0:s.videoId}`:""}`,className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})]})},$s=({outVideo:s,handleOpen:t,showCarousel:l,listing:o})=>{const[x,d]=c.useState(!1),[n,r]=c.useState(150),[a,h]=c.useState(90),v=c.useRef(null),[f,u]=c.useState(null);ne();const[w,y]=c.useState([]),g=6;c.useEffect(()=>{if(s){const S=s.length>g?s.slice(0,g):s;y(S)}},[s]);const p=()=>{v.current&&v.current.scrollBy({left:-300,behavior:"smooth"})},E=()=>{v.current&&v.current.scrollBy({left:300,behavior:"smooth"})};return e.jsx("div",{className:"px-[10px] mt-6 mb-5",children:e.jsxs("div",{className:"relative w-full max-w-[1100px] mx-auto",children:[e.jsx(Ds,{outVideo:s,openGallery:x,setOpenGallery:d,handleOpen:t,showCarousel:l,listing:o}),e.jsx("div",{ref:v,className:"w-full px-0 py-0 mt-3 relative flex flex-1 overflow-x-auto bottom-scrollbar-hidden rounded-xl overflow-hidden",children:e.jsxs("div",{className:"flex gap-x-3",id:"videobar",children:[Array.isArray(w)&&Array.from({length:g},(S,k)=>{var b,R,N,B;return e.jsx("div",{children:k<g&&k<(w==null?void 0:w.length)?e.jsx("div",{className:` w-[${n}px] min-w-[${n}px] relative z-[30] hover:cursor-pointer border  rounded-xl overflow-hidden hover:bg-white/50`,onClick:()=>l(k),children:e.jsxs("div",{className:`relative w-full h-[${a}px]   z-[20]`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-transparent  z-[300000] hover:bg-white/40",children:e.jsx(ts,{size:20,className:"text-white absolute top-0.5 right-1 "})}),e.jsx("img",{src:(b=w[k])==null?void 0:b.videoThumbnail,alt:(R=w[k])==null?void 0:R.videoTitle,className:"object-cover w-full h-full"}),e.jsx("div",{className:" block w-full absolute z-[30] text-white bottom-0 px-2 py-[5px] bg-black/80 ",children:e.jsx("div",{className:"w-full text-white bottom-0  ",children:e.jsx("div",{className:" text-[12px] leading-[1.2em] line-clamp-1",children:(N=w[k])==null?void 0:N.videoTitle})})})]})},(B=w[k])==null?void 0:B.videoGuid):e.jsx("div",{className:`w-[${n}px] h-full border flex place-items-center place-content-center hover:cursor-pointer hover:bg-gray-300 bg-gray-200 rounded-xl `,onClick:()=>{d(!0)},children:e.jsx("div",{className:"text-white/60 w-[85%] text-center rounded-md h-[75%] border border-dashed border-black/30 flex place-items-center place-content-center text-[23px]",children:e.jsx(oe,{})})})},k)}),e.jsx("div",{className:`w-[${n}px] h-full border border-gray-200 rounded-xl flex place-items-center place-content-center hover:cursor-pointer hover:bg-gray-300 bg-gray-200`,onClick:()=>{d(!0)},children:e.jsx("div",{className:"text-white/60 w-[85%] text-center rounded-md h-[75%] border border-dashed border-black/30 flex place-items-center place-content-center ",children:e.jsx("div",{className:"text-white w-1/2 text-center rounded",children:"All Videos"})})})]})}),e.jsx("div",{className:"absolute text-white top-1/2 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-black/50 hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded z-[50]",onClick:()=>{p()},children:e.jsx(ls,{})}),e.jsx("div",{className:"absolute text-white top-1/2 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-black/50 hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded z-[50]",onClick:()=>{E()},children:e.jsx(rs,{})})]})})},Ds=({outVideo:s,openGallery:t,setOpenGallery:l,handleOpen:o,showCarousel:x,listing:d})=>e.jsx(e.Fragment,{children:t&&e.jsxs("div",{onMouseDown:n=>l(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[20000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:n=>n.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",d==null?void 0:d.title]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:Array.isArray(s)&&(s==null?void 0:s.map((n,r)=>e.jsxs("div",{className:"mb-2",onClick:()=>{x(r)},children:[e.jsx("div",{className:`relative hover:cursor-pointer
                                                  h-[80px] md:h-[100px] lg:h-[120px] rounded-md bg-black
                                                 overflow-hidden border-[5px] border-gray-200`,children:e.jsx("img",{className:"object-cover w-full h-full",src:n==null?void 0:n.videoThumbnail,alt:""})}),e.jsx("div",{className:"mx-[2px] text-[13px] leading-[1.2em] line-clamp-2 mt-[3px]",children:n==null?void 0:n.videoTitle})]},r)))})})]})}),e.jsx("div",{onMouseDown:()=>l(!1),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(W,{className:"text-[30px]"})})]})}),Fs=s=>{const[t,l]=c.useState(!1),[o,x]=c.useState(0),d=ns(),n=r=>{d.setDialog(!0),d.setSelectedSlide(r+1),d.setGallery(s.products),d.setListing(s.listing)};return e.jsx("div",{children:e.jsx("div",{className:"fixed bg-black/20 w-screen h-screen top-0 left-0 z-[3000]",children:e.jsx("div",{className:" w-full h-full flex place-content-center place-items-center",onMouseDown:r=>s.setGalleryDialog(!1),children:e.jsxs("div",{className:"max-w-[90%] w-full mx-auto bg-white h-[80%] rounded-lg",onMouseDown:r=>r.stopPropagation(),children:[e.jsx("div",{className:" border-b px-5 py-2",children:e.jsxs("div",{className:"flex place-content-between place-items-center",children:[e.jsxs("div",{className:"text-[17px] font-semibold",children:["Products for ",s.listing.title]}),e.jsx("div",{className:"text-[25px] rounded-full border flex place-content-center place-items-center w-[35px] h-[35px] hover:bg-gray-100 hover:cursor-pointer",onMouseDown:()=>s.setGalleryDialog(!1),children:e.jsx(W,{})})]})}),e.jsx("div",{className:" w-full h-[85%] overflow-auto",children:e.jsx("div",{className:"w-full h-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-5 px-5 py-5",children:s.products.map((r,a)=>e.jsxs("div",{className:"border rounded-md p-3 block hover:shadow-md hover:cursor-pointer",onClick:()=>{n(a)},children:[e.jsx("div",{className:" w-full h-[150px] relative ",children:e.jsx("img",{src:T.IMG_BASE_URL+r.product_image_url,alt:"",className:" object-cover w-full h-full"})}),e.jsx("div",{className:"mt-3 text-center line-clamp-2 border-t pt-2 h-[50px] leading-[1.4em]",children:r==null?void 0:r.product_title})]},a))})})]})})})})},zs=s=>{var x;const[t,l]=c.useState(!1),o=()=>{l(!0)};return e.jsx(ds,{children:e.jsxs("div",{className:"mt-12",children:[e.jsx(G,{title:"Products"}),t&&e.jsx(Fs,{products:s.products,setGalleryDialog:l,listing:s.listing}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5",children:[(x=s.products)==null?void 0:x.map((d,n)=>e.jsx("div",{children:e.jsx("a",{href:d==null?void 0:d.product_link,target:"product",children:e.jsxs("div",{className:"border rounded-md p-3 h-[230px] block hover:shadow-md",children:[e.jsx("div",{className:" w-full h-[150px] relative ",children:e.jsx("img",{src:T.IMG_BASE_URL+d.product_image_url,alt:"",className:" object-cover w-full h-full"})}),e.jsx("div",{className:"mt-3 text-center line-clamp-2 border-t pt-2 leading-[1.4em]",children:d==null?void 0:d.product_title})]})})},n)),e.jsx("div",{onClick:()=>o(),children:e.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50 h-[230px] flex place-items-center place-content-center flex-col bg-gray-200 cursor-pointer min-w-full",children:[e.jsx(cs,{size:22}),e.jsx("div",{children:"Product Gallery"})]})},s.products.length+1)]})]})})},Is=({listing:s,images:t,ratingsData:l,videoGallery:o,products:x,profileImageData:d,reportTime:n})=>{const[r,a]=c.useState(null),[h,v]=c.useState(void 0),[f,u]=c.useState(null);return c.useEffect(()=>{s&&u(s)},[s]),c.useEffect(()=>{s&&l&&a({totalReviews:0,category:s==null?void 0:s.category,rating:l.rating_average,ratingCount:l.rating_count})},[s,l]),c.useEffect(()=>{s&&n&&v(n)},[s,n]),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"px-[0px] w-full",children:e.jsxs("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:[l&&e.jsxs("div",{className:"mt-4 flex gap-2 place-items-center px-[15px]",children:[e.jsx(ue,{rating:Number(l==null?void 0:l.rating_average)}),e.jsxs("div",{className:`flex place-items-center place-content-center
                                    gap-1 text-black/60 text-[14px]`,children:[e.jsx("div",{children:I(Number(l==null?void 0:l.rating_average))}),e.jsxs("div",{children:["(",e.jsxs("span",{className:"underline",children:[I(l==null?void 0:l.rating_count)," reviews"]}),")"]})]})]}),s&&d&&e.jsx(ws,{listing:s,profileImageData:d,operatingHoursStatus:h,ratingsData:l})]})}),(o==null?void 0:o.length)>0&&e.jsx(As,{videoGallery:o,listing:s}),(t==null?void 0:t.length)>0&&s&&e.jsx("div",{className:`bg-black h-fit md:hidden
                            mt-4`,children:e.jsx(Es,{images:t,listing:s})}),e.jsx("div",{className:" md:pt-4 md:px-[12px]",children:e.jsx("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:e.jsxs("div",{className:`grid grid-cols-12 gap-0 md:gap-4 relative
                    `,children:[e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:Array.isArray(t)&&(t==null?void 0:t.length)>0&&s&&e.jsx(ks,{images:t,listing:s})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:`lg:hidden ${(t==null?void 0:t.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:[r!==null&&e.jsx(ee,{data:r}),f!==null&&e.jsx(Z,{businessProfile:f}),f!==null&&e.jsx(se,{listing:f})]}),e.jsxs("div",{className:"px-[15px] md:px-[0px]",children:[e.jsx(Ss,{listing:s}),s&&h&&e.jsx(Ts,{listing:s,operatingHoursStatus:h}),e.jsx(Ns,{listing:s}),s&&e.jsx(Cs,{listing:s}),s&&e.jsx(gs,{listing:s}),s&&e.jsx(Ls,{listing:s}),s&&e.jsx(zs,{products:x,listing:s}),s&&e.jsx(Bs,{listing:s}),s&&e.jsx(_s,{listing:s})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4 hidden lg:block",children:e.jsxs("div",{className:" sticky top-[100px]",children:[r&&e.jsx(ee,{data:r}),s&&e.jsx(Z,{businessProfile:s}),s&&e.jsx(se,{listing:s})]})})]})})})]})},Os=({title:s,subtitle:t})=>e.jsxs("div",{className:"mb-6 border-b pb-4 -space-y-1",children:[e.jsx("div",{className:`text-[19px] font-bold
                `,children:s}),e.jsx("div",{className:"text-sm ",children:t})]}),Us=({title:s,subtitle:t,category:l,limit:o})=>{const[x,d]=c.useState(""),[n,r]=c.useState(""),[a,h]=c.useState([]),[v,f]=c.useState(""),u="https://pics.gasimg.com",[w,y]=c.useState("/images/placeholder22.png");c.useEffect(()=>{s&&t&&(d(s),r(t))},[s,t]);let g=async(p,E)=>{if(E&&p){let S=await as(p,E);h(S)}};return c.useEffect(()=>{o&&l&&g(l,o)},[o,l]),e.jsx("div",{className:"px-[15px]",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsxs("div",{className:"mt-10 border-t pt-5",children:[e.jsx("div",{className:" mb-[20px] ",children:e.jsx(Os,{title:x,subtitle:n})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-4",children:Array.isArray(a)&&(a==null?void 0:a.map((p,E)=>{let S="";return p!=null&&p.username?S=p==null?void 0:p.username:S=p==null?void 0:p.gid,e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(ge,{to:`/${S}`,children:e.jsx("div",{className:"relative h-[120px] rounded-lg md:h-[180px] overflow-hidden",children:e.jsx("img",{className:`${p!=null&&p.image_url?"object-cover":"object-scale-down"}  w-full h-full
                                                    text-sm bg-gray-100`,src:p!=null&&p.image_url?u+(p==null?void 0:p.image_url):"images/placeholder22.png",alt:p.title})})})}),e.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:p.title}),e.jsx("div",{className:"mt-1",children:e.jsx(ue,{rating:p.avg_rating})}),e.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight line-clamp-3
                                    leading-[1.2em]`,children:p.short_description})]},S)}))})]})})})},Ws=()=>e.jsx("div",{className:"flex place-content-center place-items-center w-full min-h-[700px] text-[13px] flex-col space-y-4",children:e.jsxs("div",{className:`flex place-content-center place-items-center gap-3
                h-[40px]`,children:[e.jsx("div",{className:`text-2xl font-bold text-red-600 h-full
                    flex place-items-center`,children:"404"}),e.jsx("div",{className:"h-full w-[2px] border-r"}),e.jsxs("div",{className:`text-black text-[14px]
                    h-full flex place-items-center space-x-2`,children:[e.jsx("span",{children:"Resource not found."}),e.jsx("button",{onClick:()=>{window.history.back()},className:"underline",children:"Go back"})]})]})}),ht=({data:s})=>{try{const t=s==null?void 0:s.listing,l=s==null?void 0:s.profileImageData;let o="";(l==null?void 0:l.image_url)===""||(l==null?void 0:l.image_url)===null||(l==null?void 0:l.image_url)===void 0?o=`${T.BASE_URL}/images/abstract_placeholder.jpg`:o=T.IMG_BASE_URL+(l==null?void 0:l.image_url);const x=l==null?void 0:l.mimetype,n=(r=>{var v,f;if(r==null||r==="")return null;const a=r.replace(/&/g,",");return(f=(v=a==null?void 0:a.split(","))==null?void 0:v.map(u=>u.trim()))==null?void 0:f.filter(u=>u.length>0)})((t==null?void 0:t.business_phrases)||null);return[{title:(t==null?void 0:t.title)||"Garssete Inc."},{name:"description",content:t==null?void 0:t.short_description},{name:"keywords",content:n},{property:"fb:app_id",content:"1325393508603168"},{property:"og:url",content:(t==null?void 0:t.website)||"https://garssete.com"},{property:"og:type",content:"website"},{property:"og:title",content:(t==null?void 0:t.title)||"Garssete.com"},{property:"og:description",content:t==null?void 0:t.short_description},{property:"og:image",content:o},{property:"og:image:secure_url",content:o},{property:"og:image:type",content:x},{property:"og:image:width",content:"200"},{property:"og:image:alt",content:(t==null?void 0:t.title)||"Garssete"},{name:"twitter:creator",content:"garssete"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:(t==null?void 0:t.title)||"Garssete Directory Listing"},{name:"twitter:description",content:t==null?void 0:t.short_description}]}catch(t){os(t)}return[]},pt=()=>{const s=Se();let t,l=null,o,x=null,d=null,n,r;return t=s.listing,l=s.gallery,o=s.ratingsData,x=s.videoGallery,d=s.products,n=s.profileImageData,r=s.reportTime,e.jsx(vs,{children:e.jsx(ps,{children:e.jsxs(is,{children:[e.jsx(xs,{}),(t==null?void 0:t.gid)!==null&&(t==null?void 0:t.gid)!==void 0&&l&&o&&x&&d&&n&&r&&e.jsx(Is,{listing:t,images:l,ratingsData:o,videoGallery:x,products:d,profileImageData:n,reportTime:r}),(t==null?void 0:t.category)!==void 0?e.jsx(Us,{category:t==null?void 0:t.category,limit:6,title:`Related: ${t==null?void 0:t.category}`,subtitle:"Related based on the same category."}):e.jsx(Ws,{}),e.jsx(us,{}),e.jsx(ms,{}),e.jsx(hs,{})]})})})};export{pt as default,ht as meta};
